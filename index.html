<!DOCTYPE html>
<html>

<head>
	<meta charset='utf-8' />
	<meta http-equiv="X-UA-Compatible" content="chrome=1" />
	<meta name="description" content="Contrôler un afficheur LCD avec une liaison série : Programme de test en C# et description de la classe SerialELCD162"
	/>
	<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
	<title>ELCD162</title>
</head>

<body>

	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<header class="inner">
			<a id="forkme_banner" href="https://github.com/WebGE/ELCD162">View on GitHub</a>
			<h1 id="project_title">Driver d'afficheur LCD (liaison série asynchrone type RS232)</h1>
			<h2 id="project_tagline">Description de la classe <strong><em>ELCD162</em></strong> développée en C# sous .NETMF 4.3 pour les cartes Netduino et
				FEZ (PANDA, COBRA...)</h2>
			<section id="downloads">
				<a class="zip_download_link" href="https://github.com/WebGE/ELCD162/zipball/master">Download this project as a .zip file</a>
				<a class="tar_download_link" href="https://github.com/WebGE/ELCD162/tarball/master">Download this project as a tar.gz file</a>
			</section>
		</header>
	</div>

	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
		<section id="main_content" class="inner">
			<hr>
			<h4>Sommaire</h4>
			<ol>
				<li>LE MATERIEL
					<ol>
						<li>L'afficheur LCD 2 x 16 caractères à commandes séries</li>
						<li><a href="#DUINO">Les cartes Netduino</a></li>
						<li><a href="#FEZ">Les cartes FEZ</a> </li>
					</ol>
				</li>
				<li><a href="#LOG">LE LOGICIEL</a>
					<ol>
						<li><a href="#REP">Contenu du répertoire proposé au téléchargement</a></li>
						<li><a href="#NUGET">Le NuGet MicroToolsKit</a></li>
						<li><a href="#WIKI">Les Wikis</a></li>
						<li><a href="#DESC">Description et utilisation de la classe ELCD162</a></li>
					</ol>
				</li>
			</ol>
			<hr>
			<h3>1. LE MATERIEL</h3>
			<hr>
			<h4>1.1 L'afficheur LCD 2 x 16 caractères à commandes séries</h4>
			<hr>
			<ul>
				<li><strong>Présentation</strong></li>
				<p>Cet afficheur LCD "OEM" à commandes séries est composé d'un afficheur LCD standard associé à une platine pouvant être
					commandée par un microcontrôleur au moyen d'ordres transmis en série (<strong>8 bits - sans parité - 1 bit de stop - débit binaire 19200b/s ou 4800 b/s</strong>).
					L'afficheur (à processeur Hitachi) dispose d'un réglage de contraste au moyen d'un potentiomètre présent sur la platine
					de commande.</p>
				<p align="center"><img src="http://www.lextronic.fr/imagelib/15/elcd162a.jpg" alt=""></p>
				<li><strong>Alimentation</strong>: 5V</li>
				<li><strong>Commande</strong> : liaison série asynchrone 8 bits - sans parité - 1 bit de stop - débit binaire 19200b/s ou
					4800 b/s</li>
				<li><strong>Dimensions</strong>: 80mm x 36mm</li>
				<li><strong>Documentation</strong> : <a href="http://www.lextronic.fr/lextronic_doc/ELCD.pdf" target="_blank">Comfile ELCD162</a></li>
				<li><strong>Distributeur</strong>:
					<a href="http://www.lextronic.fr/P761-afficheur-2-x-16-caracteres-non-retro-eclaire.html" target="_blank">Lextronic</a>
				</li>
			</ul>
			<hr>
			<h4 id="DUINO">1.2 Les cartes Netduino</h4>
			<h5>Secret Labs</h5>
			<hr>
			<ul>
				<li><strong>Microcontrôleur</strong> : STM32F405RG 32 bits à architecture Cortex-M4 cadencé à 168 MHz.</li>
				<li><strong>RAM</strong> : 164KB+.</li>
				<li><strong>Flash</strong> : 1408KB.</li>
				<li><strong>Port Ethernet : </strong> 10/100Mbps (Wifi:802.11b/g/n)*.</li>
				<li><strong>E/S numériques</strong> : 22</li>
				<li><strong>Entrées analogiques</strong> : 6</li>
				<li><strong>Stockage</strong>: carte µSD</li>
				<li><strong>IDE</strong> : Microsoft Visual Studio</li>
				<li><strong>Framework</strong> : .NETMF 4.3</li>
				<li><strong>Langages de programmation</strong> : C#, VB</li>
				<li><strong>Compatibilité</strong> : shield Arduino, Gadgeteer</li>
			</ul>
			<table>
				<tr>
					<td><img src="images/netduino3ethernet.png" alt="Netduino plus 2" target="_blank" /></td>
					<td><img src="images/inputandoutput.png" alt="Netduino 3 wifi" target="_blank" /></td>
				</tr>
				<tr>
					<td align="center"><strong>Netduino 3 Ethernet</strong></td>
					<td align="center"><strong>Netduino 3 wifi*</strong></td>
				</tr>
			</table>
			<ul>
				<li><strong>Sites à consulter</strong> : <a href="http://netduino.com/netduinoplus2/specs.htm" target="_blank">Netduino</a>,
					<a href="http://www.netmf.com/" target="_blank">NETMF</a></li>
				<li><strong>Distributeurs</strong> : <a href="http://www.mouser.fr/Search/Refine.aspx?Keyword=netduino" target="_blank">Mouser Electronics</a></li>
			</ul>
			<hr>

			<h4 id="FEZ">
				<a name="carte-netduino-de-secret-labs" class="anchor" href="#carte-netduino-de-secret-labs" target="_blank">
					<span class="octicon octicon-link"></span></a>1.3 Les cartes FEZ</h4>
			<h5>GHI Electonics (Extrait)</h5>
			<hr>
			<ul>
				<li><strong>Microcontrôleur</strong> : 180 MHz 32-bit ARM Cortex-M4.(120 MHz 32-bit ARM Cortex-M3 )*</li>
				<li><strong>SoC(SoM)*</strong> : <a href="https://www.ghielectronics.com/catalog/product/501" target="_blank">G80</a>
					<a href="https://www.ghielectronics.com/catalog/product/373" target="_blank">G120*</a>
				</li>
				<li><strong>RAM</strong> : 156 KB(2.87 MB)*.</li>
				<li><strong>Flash</strong> : 256 KB (13.67 MB)*.</li>
				<li><strong>E/S numériques</strong> : 53(60)*</li>
				<li><strong>Entrées analogiques</strong> : 16(8)*</li>
				<li><strong>Réseaux : </strong> Ethernet TCP/IP, WiFi, and SSL.</li>
				<li><strong>Stockage</strong>: carte µSD</li>
				<li><strong>IDE</strong> : Microsoft Visual Studio</li>
				<li><strong>Framework</strong> : .NETMF 4.3</li>
				<li><strong>Langages de programmation</strong> : C#, VB</li>
			</ul>
			<table>
				<tr>
					<td><img src="images/panda3.png" alt="PANDA III" /></td>
					<td><img src="images/cobra3.png" alt="COBRA III" /></td>
				</tr>
				<tr>
					<td align="center"><strong>PANDA III</strong></td>
					<td align="center"><strong>COBRA III* (compatible Gadgeteer)</strong></td>
				</tr>
			</table>
			<ul>
				<li><strong>Sites à consulter</strong> : <a href="https://www.ghielectronics.com/" target="_blank">GHI ELECTRONICS</a>,
					<a href="http://www.netmf.com/" target="_blank">NETMF</a></li>
				<li><strong>Distributeurs</strong> : <a href="http://www.mouser.fr" target="_blank">Mouser Electronics</a></li>
			</ul>

			<hr>
			<h3 id="LOG">2. LE LOGICIEL</h3>
			<hr>

			<h4 id="REP">2.1 Contenu du répertoire proposé au téléchargement</h4>
			<hr>
			<p>Le répertoire proposé au téléchargement (au format zip ou tar.gz) contient la solution <strong>NetduinoELCD162</strong>				composée :
			</p>
			<ul>
				<li>Du projet <strong>ELCD162</strong> : le <strong>code source</strong> de la classe <em>ELCD162</em>.</li>
				<li>Du projet <strong>TestELCD_162</strong> : un exemple d'utilisation de cette classe.</li>
			</ul>
			<hr>

			<h4 id="NUGET">2.2 Le NuGet MicroToolsKit</h4>
			<p>La dernière version La dernière version <strong>compilée</strong> de la classe <strong>ELCD162</strong> se situe dans
				la bibliothèque <strong>MicroToolsKit</strong> disponible sur
				<a href="https://www.nuget.org/packages/WebGE.MicroToolsKit/" target="_blank">nuget.org</a>.</em>
			</p>
			<p align="center"><img src="images/NuGet-large.png" /></p>
			<p><strong>Organisation des classes</strong> contenues dans MicroToolsKit <a href="https://csharpembarquenetduino.wikispaces.com/6.+La+biblioth%C3%A8que+MicroToolsKit"
				 target="_blank">[lien]</a></p>
			<p><em>Installer cette bibliothèque dans le projet simplifie l'utilisation de cette classe.</em></p>
			<hr>

			<h4 id="WIKI">2.3 Les Wikis</h4>
			<ul>
				<li><strong>Fascicules</strong> d'exemples de code pour les cartes <strong>Netduino</strong>.
					<a href="https://csharpembarquenetduino.wikispaces.com/5.+Les+fascicules+d%27exemples+cod%C3%A9s+en+CSharp" target="_blank">[lien]</a>
				</li>
				<li><strong>Fascicule</strong> d'exemples de code pour les cartes <strong>FEZ</strong>.
					<a href="https://csharpembarquefez.wikispaces.com/5.+Les+fascicules+d%27exemples+cod%C3%A9s+en+CSharp" target="_blank">[lien]</a>
				</li>
			</ul>
			<hr>

			<h4 id="DESC">2.4 Description et utilisation de la classe ELCD162</h4>
			<ul>
				<li><strong>Rôle: </strong>Contrôler un afficheur lcd à commande série (type RS232).</li>
				<li><strong>Assembly à ajouter dans les références de l'explorateur de solution: </strong>
					<ul>
						<li><em>MicroToolsKit</em> (disponible sur <a href="https://www.nuget.org/packages/WebGE.MicroToolsKit/" target="_blank">nuget.org</a>)</li>
						<li><em>Microsoft.SPOT.Hardware.SerialPort</em> disponible si NETMF V4.3 est installé</li>
					</ul>
				</li>
				<li><strong>Espace de noms à rajouter dans le code source: </strong><em>Microtoolskit.Hardware.Displays</em></li>
			</ul>
			<hr>

			<p><strong>Création d'un projet avec l'IDE Visual Studio</strong></p>
			<ol>
				<li><strong>Utiliser</strong> le gestionnaire de paquets NuGet pour <strong>ajouter</strong> l'assembly <strong>MicroToolsKit</strong>					(disponible sur <a href="https://www.nuget.org/packages/WebGE.MicroToolsKit/" target="_blank">nuget.org</a>) dans le
					répertoire <em>Références</em> du projet.(clic droit sur <em>Références</em> puis <em>Gérer les packages NuGet...</em>)</li>
				<li><strong>Ajouter</strong> l'espace de noms <strong>Microtoolskit.Hardware.Displays </strong>dans l'en-tête du fichier
					source.
				</li>
				<li><strong>Créer</strong> un objet en utilisant un des constructeurs <em>ELCD162</em>. </li>
				<li><strong>Initialiser</strong> le LCD avec la méthode <strong>Init</strong>. </li>
				<li><strong>Transmettre</strong> les chaînes de caractères avec la méthode <strong>PutString</strong></li>
			</ol>
			<hr>
			<p><strong>Exemple</strong></p>
			<em>
				float valeur = 0;<br>	
				ELCD162 lcd = new ELCD162();<br>
				Lcd.Init(); Lcd.ClearScreen(); Lcd.CursorOff();<br>
				<br>
				while(true)<br>
				{<br>
				valeur = valeur + 0.11;<br>
				lcd.PutString("Temperature = " + valeur.Tostring("F1"));<br>
				Thread.Sleep(100);<br>	
				}
			</em>
			<hr>
			<p><strong>Constructeurs</strong></p>
			<table>
				<tr>
					<td></td>
					<td><strong>Syntaxe</strong></td>
					<td><strong>Description</strong></td>
				</tr>
				<tr>
					<td><img src="images/Method_16x.png"></td>
					<td><strong>ELCD162</strong>()</td>
					<td>
						Instancie un objet "Afficheur LCD série" avec les paramètres: <strong>COM2, 19200b/s, pas de parité, 8bits, 1 bit de stop</strong>.<br>
						<strong>Exemple</strong> <br/><em>ELCD162 lcd = new ELCD162();</em>
					</td>
				</tr>
				<tr>
					<td><img src="images/Method_16x.png"></td>
					<td><strong>ELCD162</strong>(<strong>string</strong> <em>com</em>, <strong>int</strong> <em>baudrate</em>, <strong>Parity</strong>						<em>parite</em>, <strong>int</strong> <em>bits</em>, <strong>StopBits</strong> <em>stopb</em>)</td>
					<td>Instancie un objet "Afficheur LCD série" avec des paramètres de communication personalisés . <br>
						<ul>
							<li><strong>com</strong>: port série sélectionné sur la carte Netduino <strong>(SerialPorts.COMx [x=1, 2, 3 ou 4]).</strong>								<br>Privilégier les ports COM2 et COM3 avec la carte TinkerKit.</li>
							<li><strong>baudrate</strong>: Débit binaire <strong>(19200b/s ou 4800b/s)</strong></li>
							<li><strong>parite</strong>: type de parite <strong>(System.IO.Ports.Parity.x [x=Even, Mark, None, Odd ou Space])</strong>								</li>
							<li><strong>bits</strong>: nombre de bits des données <strong>(7 ou 8)</strong> </li>
							<li><strong>stopb</strong>: nombre de bits de stop <strong>(System.IO.Ports.StopBits.x [x=None, One, OnePointFive ou Two])</strong>								</li>
						</ul>
					</td>
				</tr>
			</table>
			<p><strong>Méthodes publiques</strong></p>
			<table>
				<tr>
					<td></td>
					<td><strong>Syntaxe</strong></td>
					<td><strong>Description</strong></td>
				</tr>
				<tr>
					<td><img src="images/Method_16x.png"></td>
					<td><strong>void ClearScreen</strong>()</td>
					<td>
						<strong>Efface</strong> le LCD et positionne le curseur en (0,0).<br/><br/> <strong>Exemple</strong> <br><em>lcd.ClearScreen();</em>
					</td>
				</tr>
				<tr>
					<td><img src="images/Method_16x.png"></td>
					<td><strong>void CursorOff</strong>()</td>
					<td>
						<strong>Désactivation</strong> du curseur.<br/><br/> <strong>Exemple</strong> <br><em>lcd.CursorOff();</em>
					</td>
				</tr>
				<tr>
					<td><img src="images/Method_16x.png"></td>
					<td><strong>void CursorOn</strong>()</td>
					<td>
						<strong>Activation</strong> du curseur.<br/><br/> <strong>Exemple</strong> <br><em>lcd.CursorOn();</em>
					</td>
				</tr>
				<tr>
					<td><img src="images/Method_16x.png"></td>
					<td><strong>void Init</strong>()</td>
					<td><strong>Initialisation</strong> de l'afficheur. <br> Toute première méthode à appliquer ! <br/><br/> <strong>Exemple</strong><br><em>lcd.Init();</em>
					</td>
				</tr>
				<tr>
					<td><img src="images/Method_16x.png"></td>
					<td><strong>void PutString</strong>(<strong>string</strong> <em>text</em>)</td>
					<td>
						<strong>Transmet</strong> une chaîne de caractères au LCD.<br><strong>text:</strong> chaîne de caractères codés conformément
						à la <a href="https://www.sparkfun.com/datasheets/LCD/HD44780.pdf" target="_blank">table du processeur HD44780</a><br/><br/>
						<strong>Exemple 1</strong> <br><em>lcd.PutString("Afficheur");</em><br/><br/>
						<strong>Exemple 2</strong> <br><em>lcd.PutString("Temperature = " + valeur.Tostring("F1"));</em>
					</td>
				</tr>
				<tr>
					<td><img src="images/Method_16x.png"></td>
					<td><strong>void SetCursor</strong>(<strong>byte</strong> <em>x</em>, <strong>byte</strong> <em>y</em>)</td>
					<td>
						<strong>Place le curseur</strong> à la position définie par x (0 à 19 suivant le nombre de caractères de l'écran)
						<br> et y (0 à 3 suivant le nombre de lignes).<br> Si x=0 et y=0 le curseur sera situé en haut à gauche de l'écran.<br/><br/>
						<strong>Exemple</strong> <br><em>lcd.SetCursor(0,1);</em> // Curseur sur le premier caractère de la deuxième ligne.
					</td>
				</tr>
			</table>
		</section>
	</div>

	<!-- FOOTER  -->
	<div id="footer_wrap" class="outer">
		<footer class="inner">
			<p class="copyright">Description de la classe <strong><em>ELCD162</em></strong> développée en C# sous .NETMF 4.3 pour les cartes Netduino,
				et FEZ (PANDA, COBRA...) maintained by <a href="https://github.com/WebGE">WebGE</a></p>
			<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
		</footer>
	</div>
</body>

</html>